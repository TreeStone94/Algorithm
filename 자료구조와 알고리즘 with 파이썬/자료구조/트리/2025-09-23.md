## 트리란?

트리 구조는 계층적인 관계를 가진 자료의 표현에 매우 유용하게 사용됩니다. 예를 들어, 회사의 조직 처계를 표현해봅시다. 회사의 사장은 나무의 뿌리에 해당합니다.


이러한 구조를 트리라고 부르는 것은 이들이 마치 실제 나무를 거꾸로 엎어높은 것과 비슷한 모양을 하고 있기 때문입니다. 지금까지 공부한 선형 자료구조들과 마찬가지로 트리는 매우 다양하게 활용됩니다. 운영체제에서 파일 시스템이 트리 구조로 이루어져 있고, 효율적인 탐색을 위해서도 트리가 사용됩니다. 우선순위 큐를 효율적으로 구현하기 위해 트리가 사용되고, 의사 결정 구조를 표현하기 위한 중요한 방법으로 결정 트리(decision tree)가 사용됩니다.

### 트리 관련 용어

트리에서 각각의 요소들을 **노드(node)**라고 부르는데, 트리는 하나 이상의 노드들로 이루어집니다. 위에 그림의 조직도에서 각각의 박스들이 노드에 해당합니다. 노드와 노드의 연결 관계는 **간선** 또는 **에지(edge)**로 나타냅니다. 조직도에서 ‘사장’과 같이 계층적인 구조에서 가장 높은 곳에 있는 노드를 **루트 노드(root node)**라고 부릅니다.



트리의 모든 노드는 자신을 루트로 하는 하나의 서브 트리를 대표합니다. 예를 들어, 루트 노드 A와 세 개의 서브 트리로 이루어지는데, 서브 트리들은 다시 각각 B, C, D를 루트로 갖는 트리입니다. 따라서 트리는 순환적으로 정의되는 자료구조라고 볼 수 있고, 순환호출을 사용하는 순환 알고리즘이 흔히 사용됩니다.

### 트리 표현 방법

1. 중첩된 집합
    
    트리가 서브 트리들의 집합이라는 것을 잘 나타낼 수 있습니다.
    
    
2. 중첩된 괄호
    
    다음 그림과 같이 이 방법은 트리를 하나의 문자열처럼 표현할 수 있다는 장점이 있습니다. 그러나 이것만으로 트리의 구조를 직관적으로 이해하기에는 다소 어려움이 있습니다.
    
    
3. 들여쓰기
    
    자료가 계층적인 구조를 갖는 것을 잘 나타내는데, 윈도우 탐색기에서 폴더와 파일을 나타내기 위해 흔히 사용됩니다.
    
    

### 일반 트리의 표현

자식의 개수에 제한이 없는 트리를 일반 트리(general tree)라고 부릅니다. 이런 트리를 프로그램에서 표현하는 데는 두가지 방법이 있습니다.

1. N-링크 표현
    
    가장 간단한 방법은 차수가 N인 노드가 N개의 링크를 갖도록 허용하는 것입니다. 이 경우 각 노드는 하나의 데이터 필드와 자식 노드 개수만큼의 링크를 갖습니다. 
    
    
    노드 A는 세 개의 자식이 있으므로 링크가 셋이고, D는 두개의 링크를 갖습니다. C, E, F, G와 같은 단말 노드는 링크가 하나도 없습니다. 이 방법은 간단해 보이긴 하지만 **노드마다 링크의 개수가 다르다는 문제**가 있습니다. 예를 들어, 컴퓨터 폴더 구조를 트리로 나타내는 경우, 하나의 폴더에 파일이나 폴더가 하나도 없을 수도 있고 수 천개일 수도 있는 것입니다. 이를 위해, 노드별로 링크를 관리하기 위해 연결 리스트를 사용할 수 있지만, 트리의 표현과 관리가 복잡해질 수 밖에 없습니다.
    
2. 왼쪽 자식-오른쪽 형제 표현
    
    노드의 형태를 좀더 단순화하는 방법도 있습니다. 노드 N개가 아니라 두개의 링크만 갖도록 하는 방법입니다. 링크의 용도를 정해서 이 문제를 해결할 수 있습니다. 하나의 링크는 왼쪽 자식(첫 번째 자식, child)을 가리키고, 다른 하나는 오른쪽 형제(다음형제, sibling)를 가리키기 위해 사용하는 것입니다.
    
    
    이 방법은 비교적 단순한 형태의 노드를 이용해 임의의 일반 트리를 표현할 수 있습니다. 그러나 표현이 복잡하고 특히 루트인 A에서 G까지 찾아가는 과정에서 필요 없이 많은 노드를 거쳐야 하는 문제가 있습니다.
    
    다행히 실제로는 좀 더 단순한 형태의 트리를 많이 사용하는데, 아이디어는 트리 노드의 자식 수에 제한을 두는 것입니다. 예를 들어, 자식 최대 2개, 또는 최대 3개만을 가질 수 있도록 제한한 트리를 이용하는 것입니다.
